{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"bg-white rounded-lg shadow-md p-6\"\n};\nconst _hoisted_2 = {\n  class: \"mb-6\"\n};\nconst _hoisted_3 = {\n  class: \"text-red-500 font-semibold\"\n};\nconst _hoisted_4 = {\n  class: \"mt-6 flex justify-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_search = _resolveComponent(\"search\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    class: \"mb-6\"\n  }, [_createElementVNode(\"h2\", {\n    class: \"text-2xl font-bold text-gray-800 mb-2\"\n  }, \"菜品列表\"), _createElementVNode(\"p\", {\n    class: \"text-gray-600\"\n  }, \"浏览所有可用菜品\")], -1 /* HOISTED */)), _createCommentVNode(\" 搜索栏 \"), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_input, {\n    modelValue: $setup.searchQuery,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchQuery = $event),\n    placeholder: \"搜索菜品名称...\",\n    class: \"w-full max-w-md\",\n    clearable: \"\"\n  }, {\n    prefix: _withCtx(() => [_createVNode(_component_el_icon, null, {\n      default: _withCtx(() => [_createVNode(_component_search)]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"modelValue\"])]), _createCommentVNode(\" 菜品表格 \"), _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n    data: $setup.filteredMenuItems,\n    style: {\n      \"width\": \"100%\"\n    },\n    stripe: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"id\",\n      label: \"ID\",\n      width: \"80\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"name\",\n      label: \"菜品名称\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"price\",\n      label: \"价格\",\n      width: \"120\"\n    }, {\n      default: _withCtx(scope => [_createElementVNode(\"span\", _hoisted_3, \"¥\" + _toDisplayString(scope.row.price), 1 /* TEXT */)]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_table_column, {\n      prop: \"description\",\n      label: \"描述\",\n      \"show-overflow-tooltip\": \"\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"category\",\n      label: \"分类\",\n      width: \"120\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"status\",\n      label: \"状态\",\n      width: \"100\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_tag, {\n        type: scope.row.status === '可用' ? 'success' : 'danger'\n      }, {\n        default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.status), 1 /* TEXT */)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])), [[_directive_loading, $setup.loading]]), _createCommentVNode(\" 分页 \"), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_pagination, {\n    modelValue: $setup.currentPage,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.currentPage = $event),\n    \"page-size\": $setup.pageSize,\n    \"page-sizes\": [10, 20, 50, 100],\n    total: $setup.totalItems,\n    layout: \"total, sizes, prev, pager, next, jumper\",\n    onSizeChange: $setup.handleSizeChange,\n    onCurrentChange: $setup.handleCurrentChange\n  }, null, 8 /* PROPS */, [\"modelValue\", \"page-size\", \"total\"])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_createVNode","_component_el_input","modelValue","$setup","searchQuery","_cache","$event","placeholder","clearable","prefix","_withCtx","_component_el_icon","default","_component_search","_","_createBlock","_component_el_table","data","filteredMenuItems","style","stripe","_component_el_table_column","prop","label","width","scope","_hoisted_3","_toDisplayString","row","price","_component_el_tag","type","status","_createTextVNode","loading","_hoisted_4","_component_el_pagination","currentPage","pageSize","total","totalItems","layout","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange"],"sources":["D:\\数据库课程设计（饭店系统）\\restaurant-ordering-system\\src\\views\\UserMenuListView.vue"],"sourcesContent":["<template>\r\n  <div class=\"bg-white rounded-lg shadow-md p-6\">\r\n    <div class=\"mb-6\">\r\n      <h2 class=\"text-2xl font-bold text-gray-800 mb-2\">菜品列表</h2>\r\n      <p class=\"text-gray-600\">浏览所有可用菜品</p>\r\n    </div>\r\n\r\n    <!-- 搜索栏 -->\r\n    <div class=\"mb-6\">\r\n      <el-input\r\n        v-model=\"searchQuery\"\r\n        placeholder=\"搜索菜品名称...\"\r\n        class=\"w-full max-w-md\"\r\n        clearable\r\n      >\r\n        <template #prefix>\r\n          <el-icon><search /></el-icon>\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n\r\n    <!-- 菜品表格 -->\r\n    <el-table\r\n      :data=\"filteredMenuItems\"\r\n      style=\"width: 100%\"\r\n      v-loading=\"loading\"\r\n      stripe\r\n    >\r\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\r\n      <el-table-column prop=\"name\" label=\"菜品名称\" />\r\n      <el-table-column prop=\"price\" label=\"价格\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          <span class=\"text-red-500 font-semibold\">¥{{ scope.row.price }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"description\" label=\"描述\" show-overflow-tooltip />\r\n      <el-table-column prop=\"category\" label=\"分类\" width=\"120\" />\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <el-tag :type=\"scope.row.status === '可用' ? 'success' : 'danger'\">\r\n            {{ scope.row.status }}\r\n          </el-tag>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <!-- 分页 -->\r\n    <div class=\"mt-6 flex justify-center\">\r\n      <el-pagination\r\n        v-model=\"currentPage\"\r\n        :page-size=\"pageSize\"\r\n        :page-sizes=\"[10, 20, 50, 100]\"\r\n        :total=\"totalItems\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport { getMenuList } from '@/api/menu'\r\n\r\nconst loading = ref(false)\r\nconst menuItems = ref([])\r\nconst searchQuery = ref('')\r\nconst currentPage = ref(1)\r\nconst pageSize = ref(10)\r\nconst totalItems = ref(0)\r\n\r\n// 过滤后的菜品列表\r\nconst filteredMenuItems = computed(() => {\r\n  if (!searchQuery.value) {\r\n    return menuItems.value\r\n  }\r\n  return menuItems.value.filter(item =>\r\n    item.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\r\n    item.description.toLowerCase().includes(searchQuery.value.toLowerCase())\r\n  )\r\n})\r\n\r\n// 获取菜品列表\r\nconst fetchMenuItems = async () => {\r\n  loading.value = true\r\n  try {\r\n    const response = await getMenuList()\r\n    if (response.success) {\r\n      menuItems.value = response.data || []\r\n      totalItems.value = menuItems.value.length\r\n    } else {\r\n      ElMessage.error('获取菜品列表失败')\r\n    }\r\n  } catch (error) {\r\n    ElMessage.error('获取菜品列表失败')\r\n    console.error('Error fetching menu items:', error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 分页处理\r\nconst handleSizeChange = (val) => {\r\n  pageSize.value = val\r\n  currentPage.value = 1\r\n}\r\n\r\nconst handleCurrentChange = (val) => {\r\n  currentPage.value = val\r\n}\r\n\r\nonMounted(() => {\r\n  fetchMenuItems()\r\n})\r\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}