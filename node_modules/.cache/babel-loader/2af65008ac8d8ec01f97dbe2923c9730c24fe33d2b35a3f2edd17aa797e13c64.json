{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nimport { callNumber, removeCallingNumber, getAllQueues } from '@/api/callingNumber';\nimport { ElMessage } from 'element-plus';\nexport const useCallingNumberStore = defineStore('callingNumber', {\n  state: () => ({\n    queues: {\n      dinningQueue2: [],\n      dinningQueue4: [],\n      dinningQueue8: [],\n      waitingQueue2: [],\n      waitingQueue4: [],\n      waitingQueue8: []\n    },\n    callingNumber: [],\n    //存放叫号返回的对象\n    error: null\n  }),\n  actions: {\n    async callNumber(phone, peopleNumber) {\n      const res = await callNumber({\n        phone,\n        peopleNumber\n      });\n      this.callingNumber.push(res);\n      ElMessage.success('叫号成功');\n      await this.getQueues();\n    },\n    async removeCallingNumber(callingNumberId) {\n      const res = await removeCallingNumber(callingNumberId);\n      if (res === '操作成功') {\n        ElMessage.success('移除叫号成功');\n        await this.getQueues();\n      } else {\n        ElMessage.error('移除叫号失败');\n        await this.getQueues();\n      }\n    },\n    async getQueues() {\n      this.queues = await getAllQueues();\n      this.error = null;\n    }\n  }\n});","map":{"version":3,"names":["defineStore","callNumber","removeCallingNumber","getAllQueues","ElMessage","useCallingNumberStore","state","queues","dinningQueue2","dinningQueue4","dinningQueue8","waitingQueue2","waitingQueue4","waitingQueue8","callingNumber","error","actions","phone","peopleNumber","res","push","success","getQueues","callingNumberId"],"sources":["D:/数据库课程设计（饭店系统）/restaurant-ordering-system/src/stores/callingNumber.js"],"sourcesContent":["import { defineStore } from 'pinia';\r\nimport { callNumber, removeCallingNumber, getAllQueues } from '@/api/callingNumber';\r\nimport { ElMessage } from 'element-plus';\r\n\r\nexport const useCallingNumberStore = defineStore('callingNumber', {\r\n  state: () => ({\r\n    queues: {\r\n      dinningQueue2: [],\r\n      dinningQueue4: [],\r\n      dinningQueue8: [],\r\n      waitingQueue2: [],\r\n      waitingQueue4: [],\r\n      waitingQueue8: [],\r\n    },\r\n    callingNumber: [],//存放叫号返回的对象\r\n    error: null\r\n  }),\r\n  actions: {\r\n    async callNumber(phone, peopleNumber) {\r\n     \r\n        const res = await callNumber({ phone, peopleNumber });\r\n        this.callingNumber.push(res);\r\n        ElMessage.success('叫号成功');\r\n        await this.getQueues();\r\n    },\r\n    async removeCallingNumber(callingNumberId) {\r\n      \r\n        const res = await removeCallingNumber(callingNumberId);\r\n        if(res==='操作成功'){\r\n          ElMessage.success('移除叫号成功');\r\n          await this.getQueues();\r\n        }else{\r\n          ElMessage.error('移除叫号失败');\r\n          await this.getQueues();\r\n        }\r\n      \r\n    },\r\n    async getQueues() {\r\n        this.queues = await getAllQueues();\r\n        this.error = null;\r\n      \r\n    }\r\n  }\r\n}); "],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,UAAU,EAAEC,mBAAmB,EAAEC,YAAY,QAAQ,qBAAqB;AACnF,SAASC,SAAS,QAAQ,cAAc;AAExC,OAAO,MAAMC,qBAAqB,GAAGL,WAAW,CAAC,eAAe,EAAE;EAChEM,KAAK,EAAEA,CAAA,MAAO;IACZC,MAAM,EAAE;MACNC,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE,EAAE;MACjBC,aAAa,EAAE;IACjB,CAAC;IACDC,aAAa,EAAE,EAAE;IAAC;IAClBC,KAAK,EAAE;EACT,CAAC,CAAC;EACFC,OAAO,EAAE;IACP,MAAMf,UAAUA,CAACgB,KAAK,EAAEC,YAAY,EAAE;MAElC,MAAMC,GAAG,GAAG,MAAMlB,UAAU,CAAC;QAAEgB,KAAK;QAAEC;MAAa,CAAC,CAAC;MACrD,IAAI,CAACJ,aAAa,CAACM,IAAI,CAACD,GAAG,CAAC;MAC5Bf,SAAS,CAACiB,OAAO,CAAC,MAAM,CAAC;MACzB,MAAM,IAAI,CAACC,SAAS,CAAC,CAAC;IAC1B,CAAC;IACD,MAAMpB,mBAAmBA,CAACqB,eAAe,EAAE;MAEvC,MAAMJ,GAAG,GAAG,MAAMjB,mBAAmB,CAACqB,eAAe,CAAC;MACtD,IAAGJ,GAAG,KAAG,MAAM,EAAC;QACdf,SAAS,CAACiB,OAAO,CAAC,QAAQ,CAAC;QAC3B,MAAM,IAAI,CAACC,SAAS,CAAC,CAAC;MACxB,CAAC,MAAI;QACHlB,SAAS,CAACW,KAAK,CAAC,QAAQ,CAAC;QACzB,MAAM,IAAI,CAACO,SAAS,CAAC,CAAC;MACxB;IAEJ,CAAC;IACD,MAAMA,SAASA,CAAA,EAAG;MACd,IAAI,CAACf,MAAM,GAAG,MAAMJ,YAAY,CAAC,CAAC;MAClC,IAAI,CAACY,KAAK,GAAG,IAAI;IAErB;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}