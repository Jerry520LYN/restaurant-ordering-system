{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-5\"\n};\nconst _hoisted_2 = {\n  class: \"flex items-center w-full mb-5\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", {\n    class: \"text-xl font-bold mb-0 whitespace-nowrap\"\n  }, \"叫号服务\", -1 /* HOISTED */)), _createVNode(_component_el_form, {\n    model: $setup.form,\n    \"label-width\": \"auto\",\n    \"<!--\": \"\",\n    修改为自动宽度: \"\",\n    \"--\": \"\"\n  }, {\n    default: _withCtx(() => [_cache[3] || (_cache[3] = _createTextVNode(\" class=\\\"flex-1 flex items-center ml-6\\\" \")), _createCommentVNode(\" 添加flex-1和边距 \"), _cache[4] || (_cache[4] = _createTextVNode(\" style=\\\"gap: 16px\\\" \")), _createCommentVNode(\" 直接控制间距 \"), _cache[5] || (_cache[5] = _createTextVNode(\" > \")), _createVNode(_component_el_form_item, {\n      label: \"手机号\",\n      class: \"mb-0 flex items-center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input, {\n        modelValue: $setup.form.phone,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.form.phone = $event),\n        style: {\n          \"width\": \"180px\"\n        }\n      }, null, 8 /* PROPS */, [\"modelValue\"]), _createCommentVNode(\" 固定宽度 \")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      label: \"人数\",\n      class: \"mb-0 flex items-center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_input_number, {\n        modelValue: $setup.form.peopleNumber,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.form.peopleNumber = $event),\n        min: 1\n      }, null, 8 /* PROPS */, [\"modelValue\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_form_item, {\n      class: \"mb-0\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleCallNumber\n      }, {\n        default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\"叫号\")])),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\"])]), _createVNode(_component_el_divider, null, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"当前队列\")])),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_table, {\n    data: $setup.queueList,\n    style: {\n      \"width\": \"100%\"\n    },\n    border: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"callingNumberId\",\n      label: \"叫号ID\",\n      width: \"120\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"phone\",\n      label: \"手机号\",\n      width: \"180\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"peopleNumber\",\n      label: \"人数\",\n      width: \"100\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"status\",\n      label: \"状态\",\n      width: \"120\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      width: \"120\",\n      align: \"center\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_button, {\n        type: \"danger\",\n        size: \"small\",\n        onClick: $event => $setup.removeNumber(scope.row)\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"移除\")])),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_form","model","$setup","form","修改为自动宽度","default","_withCtx","_createTextVNode","_createCommentVNode","_component_el_form_item","label","_component_el_input","modelValue","phone","_cache","$event","style","_","_component_el_input_number","peopleNumber","min","_component_el_button","type","onClick","handleCallNumber","_component_el_divider","_component_el_table","data","queueList","border","_component_el_table_column","prop","width","align","scope","size","removeNumber","row"],"sources":["D:\\数据库课程设计（饭店系统）\\restaurant-ordering-system\\src\\views\\CallingNumberView.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-5\">\r\n    <div class=\"flex items-center w-full mb-5\">\r\n      <h2 class=\"text-xl font-bold mb-0 whitespace-nowrap\">叫号服务</h2>\r\n      <el-form \r\n        :model=\"form\" \r\n        label-width=\"auto\"  <!-- 修改为自动宽度 -->\r\n        class=\"flex-1 flex items-center ml-6\" <!-- 添加flex-1和边距 -->\r\n        style=\"gap: 16px\"  <!-- 直接控制间距 -->\r\n      >\r\n        <el-form-item label=\"手机号\" class=\"mb-0 flex items-center\">\r\n          <el-input v-model=\"form.phone\" style=\"width: 180px\" /> <!-- 固定宽度 -->\r\n        </el-form-item>\r\n        <el-form-item label=\"人数\" class=\"mb-0 flex items-center\">\r\n          <el-input-number v-model=\"form.peopleNumber\" :min=\"1\" />\r\n        </el-form-item>\r\n        <el-form-item class=\"mb-0\">\r\n          <el-button type=\"primary\" @click=\"handleCallNumber\">叫号</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-divider>当前队列</el-divider>\r\n    <el-table :data=\"queueList\" style=\"width: 100%\" border>\r\n      <el-table-column prop=\"callingNumberId\" label=\"叫号ID\" width=\"120\" align=\"center\" />\r\n      <el-table-column prop=\"phone\" label=\"手机号\" width=\"180\" align=\"center\" />\r\n      <el-table-column prop=\"peopleNumber\" label=\"人数\" width=\"100\" align=\"center\" />\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"120\" align=\"center\" />\r\n      <el-table-column label=\"操作\" width=\"120\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"danger\" size=\"small\" @click=\"removeNumber(scope.row)\">移除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue'\r\nimport { useCallingNumberStore } from '@/stores/callingNumber'\r\n\r\nconst store = useCallingNumberStore()\r\nconst form = ref({ phone: '', peopleNumber: 1 })\r\n\r\nconst handleCallNumber = async () => {\r\n  if (!form.value.phone || !form.value.peopleNumber) return\r\n  await store.callNumber(form.value.phone, form.value.peopleNumber)\r\n  form.value = { phone: '', peopleNumber: 1 }\r\n}\r\nconst removeNumber = async (row) => {\r\n  await store.removeCallingNumber(row.callingNumberId)\r\n}\r\nconst queueList = computed(() => {\r\n  // 展示所有队列合并\r\n  if (!store.queues) return []\r\n  return Object.values(store.queues).flat()\r\n})\r\nonMounted(store.getQueues)\r\n</script> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}