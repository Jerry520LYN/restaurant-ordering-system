{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useRegisterStore } from '@/stores/auth';\nimport { useRouter } from 'vue-router';\nimport { ElMessage } from 'element-plus';\nexport default {\n  __name: 'RegisterForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const registerStore = useRegisterStore();\n    const router = useRouter();\n    const form = ref({\n      username: '',\n      password: ''\n    });\n    const error = ref(null);\n    const handleSubmit = async () => {\n      error.value = null;\n      try {\n        const result = await registerStore.register(form.value);\n        if (result) {\n          ElMessage.success('注册成功');\n          alert('注册成功');\n          router.push('/');\n        } else {\n          ElMessage.error('注册失败');\n        }\n      } catch (error) {\n        error.value = error.message;\n      }\n    };\n    const __returned__ = {\n      registerStore,\n      router,\n      form,\n      error,\n      handleSubmit,\n      ref,\n      get useRegisterStore() {\n        return useRegisterStore;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRegisterStore","useRouter","ElMessage","registerStore","router","form","username","password","error","handleSubmit","value","result","register","success","alert","push","message"],"sources":["D:/数据库课程设计（饭店系统）/restaurant-ordering-system/src/components/auth/RegisterForm.vue"],"sourcesContent":["<template>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n        <div class=\"mb-4\">\r\n            <label for=\"username\" class=\"block mb-2\">用户名</label>\r\n            <input \r\n                id=\"username\" \r\n                v-model=\"form.username\" \r\n                type=\"text\" \r\n                required \r\n                placeholder=\"请输入用户名\"\r\n                class=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n        </div>\r\n        <div class=\"mb-4\">\r\n            <label for=\"password\" class=\"block mb-2\">密码</label>\r\n            <input \r\n                id=\"password\" \r\n                v-model=\"form.password\" \r\n                type=\"password\" \r\n                required \r\n                placeholder=\"请输入密码\"\r\n                class=\"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n        </div>\r\n        <div class=\"flex justify-center gap-4\">\r\n            <button \r\n                type=\"submit\"\r\n                class=\"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md cursor-pointer\"\r\n            >\r\n                注册\r\n            </button>\r\n        </div>\r\n    </form>\r\n</template>\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useRegisterStore } from '@/stores/auth'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\nconst registerStore = useRegisterStore()\r\nconst router = useRouter()\r\n\r\nconst form = ref({\r\n    username: '',\r\n    password: ''\r\n})\r\n\r\nconst error = ref(null)\r\n\r\nconst handleSubmit = async () => {\r\n    error.value = null\r\n    try {\r\n        const result = await registerStore.register(form.value)\r\n        if(result){\r\n            ElMessage.success('注册成功')\r\n            alert('注册成功')\r\n            router.push('/')\r\n        }else{\r\n          ElMessage.error('注册失败')\r\n        }\r\n    } catch (error) {\r\n        error.value = error.message\r\n    }\r\n}\r\n</script>\r\n"],"mappings":";AAmCA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,gBAAgB,QAAQ,eAAe;AAChD,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,SAAS,QAAQ,cAAc;;;;;;;IACxC,MAAMC,aAAa,GAAGH,gBAAgB,CAAC,CAAC;IACxC,MAAMI,MAAM,GAAGH,SAAS,CAAC,CAAC;IAE1B,MAAMI,IAAI,GAAGN,GAAG,CAAC;MACbO,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACd,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAGT,GAAG,CAAC,IAAI,CAAC;IAEvB,MAAMU,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC7BD,KAAK,CAACE,KAAK,GAAG,IAAI;MAClB,IAAI;QACA,MAAMC,MAAM,GAAG,MAAMR,aAAa,CAACS,QAAQ,CAACP,IAAI,CAACK,KAAK,CAAC;QACvD,IAAGC,MAAM,EAAC;UACNT,SAAS,CAACW,OAAO,CAAC,MAAM,CAAC;UACzBC,KAAK,CAAC,MAAM,CAAC;UACbV,MAAM,CAACW,IAAI,CAAC,GAAG,CAAC;QACpB,CAAC,MAAI;UACHb,SAAS,CAACM,KAAK,CAAC,MAAM,CAAC;QACzB;MACJ,CAAC,CAAC,OAAOA,KAAK,EAAE;QACZA,KAAK,CAACE,KAAK,GAAGF,KAAK,CAACQ,OAAO;MAC/B;IACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}