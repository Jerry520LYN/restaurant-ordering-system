{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { getCustomerList } from '@/api/customer';\nimport { addCustomer, deleteCustomer, updateCustomer } from '@/api/customer';\nexport const useCustomerStore = defineStore('customer', {\n  state: () => ({\n    customerList: [],\n    vipCustomerList: [],\n    error: null\n  }),\n  actions: {\n    async fetchCustomerList() {\n      try {\n        const response = await getCustomerList();\n        this.customerList = response || [];\n      } catch (error) {\n        console.error('fetchCustomerList - 错误:', error);\n        this.error = error;\n      }\n    },\n    async addCustomer(customerData) {\n      try {\n        const response = await addCustomer(customerData);\n        await this.fetchCustomerList();\n        return response;\n      } catch (error) {\n        console.error('addCustomer - 错误:', error);\n        this.error = error;\n      }\n    },\n    async deleteCustomer(phone) {\n      try {\n        const response = await deleteCustomer(phone);\n        await this.fetchCustomerList();\n        return response;\n      } catch (error) {\n        console.error('deleteCustomer - 错误:', error);\n        this.error = error;\n      }\n    },\n    async updateCustomer(customerData) {\n      try {\n        const response = await updateCustomer(customerData);\n        await this.fetchCustomerList();\n        return response;\n      } catch (error) {\n        console.error('updateCustomer - 错误:', error);\n        this.error = error;\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineStore","getCustomerList","addCustomer","deleteCustomer","updateCustomer","useCustomerStore","state","customerList","vipCustomerList","error","actions","fetchCustomerList","response","console","customerData","phone"],"sources":["D:/数据库课程设计（饭店系统）/restaurant-ordering-system/src/stores/customer.js"],"sourcesContent":["import {defineStore} from 'pinia';\r\nimport {getCustomerList} from '@/api/customer';\r\nimport { addCustomer, deleteCustomer, updateCustomer } from '@/api/customer';\r\n\r\nexport const useCustomerStore = defineStore('customer', {\r\n    state: () => ({\r\n        customerList: [],\r\n        vipCustomerList: [],\r\n        error: null\r\n    }),\r\n    actions: {\r\n        async fetchCustomerList() {\r\n            try {\r\n                const response = await getCustomerList();\r\n                this.customerList = response || [];\r\n            } catch (error) {\r\n                console.error('fetchCustomerList - 错误:', error);\r\n                this.error = error;\r\n            }\r\n        },\r\n        async addCustomer(customerData) {\r\n            try {\r\n                const response = await addCustomer(customerData);\r\n                await this.fetchCustomerList();\r\n                return response;\r\n            } catch (error) {\r\n                console.error('addCustomer - 错误:', error);\r\n                this.error = error;\r\n            }\r\n        },\r\n        async deleteCustomer(phone) {\r\n            try {\r\n                const response = await deleteCustomer(phone);\r\n                await this.fetchCustomerList();\r\n                return response;\r\n            } catch (error) {\r\n                console.error('deleteCustomer - 错误:', error);\r\n                this.error = error;\r\n            }\r\n        },\r\n        async updateCustomer(customerData) {\r\n            try {\r\n                const response = await updateCustomer(customerData);\r\n                await this.fetchCustomerList();\r\n                return response;\r\n            } catch (error) {\r\n                console.error('updateCustomer - 错误:', error);\r\n                this.error = error;\r\n            }\r\n        }\r\n    }\r\n});\r\n"],"mappings":"AAAA,SAAQA,WAAW,QAAO,OAAO;AACjC,SAAQC,eAAe,QAAO,gBAAgB;AAC9C,SAASC,WAAW,EAAEC,cAAc,EAAEC,cAAc,QAAQ,gBAAgB;AAE5E,OAAO,MAAMC,gBAAgB,GAAGL,WAAW,CAAC,UAAU,EAAE;EACpDM,KAAK,EAAEA,CAAA,MAAO;IACVC,YAAY,EAAE,EAAE;IAChBC,eAAe,EAAE,EAAE;IACnBC,KAAK,EAAE;EACX,CAAC,CAAC;EACFC,OAAO,EAAE;IACL,MAAMC,iBAAiBA,CAAA,EAAG;MACtB,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMX,eAAe,CAAC,CAAC;QACxC,IAAI,CAACM,YAAY,GAAGK,QAAQ,IAAI,EAAE;MACtC,CAAC,CAAC,OAAOH,KAAK,EAAE;QACZI,OAAO,CAACJ,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;QAC/C,IAAI,CAACA,KAAK,GAAGA,KAAK;MACtB;IACJ,CAAC;IACD,MAAMP,WAAWA,CAACY,YAAY,EAAE;MAC5B,IAAI;QACA,MAAMF,QAAQ,GAAG,MAAMV,WAAW,CAACY,YAAY,CAAC;QAChD,MAAM,IAAI,CAACH,iBAAiB,CAAC,CAAC;QAC9B,OAAOC,QAAQ;MACnB,CAAC,CAAC,OAAOH,KAAK,EAAE;QACZI,OAAO,CAACJ,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;QACzC,IAAI,CAACA,KAAK,GAAGA,KAAK;MACtB;IACJ,CAAC;IACD,MAAMN,cAAcA,CAACY,KAAK,EAAE;MACxB,IAAI;QACA,MAAMH,QAAQ,GAAG,MAAMT,cAAc,CAACY,KAAK,CAAC;QAC5C,MAAM,IAAI,CAACJ,iBAAiB,CAAC,CAAC;QAC9B,OAAOC,QAAQ;MACnB,CAAC,CAAC,OAAOH,KAAK,EAAE;QACZI,OAAO,CAACJ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5C,IAAI,CAACA,KAAK,GAAGA,KAAK;MACtB;IACJ,CAAC;IACD,MAAML,cAAcA,CAACU,YAAY,EAAE;MAC/B,IAAI;QACA,MAAMF,QAAQ,GAAG,MAAMR,cAAc,CAACU,YAAY,CAAC;QACnD,MAAM,IAAI,CAACH,iBAAiB,CAAC,CAAC;QAC9B,OAAOC,QAAQ;MACnB,CAAC,CAAC,OAAOH,KAAK,EAAE;QACZI,OAAO,CAACJ,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;QAC5C,IAAI,CAACA,KAAK,GAAGA,KAAK;MACtB;IACJ;EACJ;AACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}