{"ast":null,"code":"import { ref } from 'vue';\nimport { useOrderStore } from '@/stores/order';\nimport { ElMessage } from 'element-plus';\nexport default {\n  __name: 'DetailedCard',\n  emits: ['closeOrder'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const emit = __emit;\n    const form = ref({\n      orderId: '',\n      customerId: '',\n      customerName: '',\n      phone: '',\n      tableId: '',\n      orderTime: '',\n      totalAmount: '',\n      finalAmount: '',\n      discount: '',\n      status: '',\n      dishes: ''\n    });\n    const orderStore = useOrderStore();\n    async function getOrderById() {\n      if (!form.value.orderId) {\n        ElMessage.error('订单信息不存在或订单ID为空');\n        return;\n      }\n      const response = await orderStore.getOrderById(form.orderId);\n      form.value = response;\n    }\n    async function deleteOrder() {\n      await orderStore.deleteOrder(form.orderId);\n    }\n    function closeOrder() {\n      emit('closeOrder');\n      form.value = {\n        orderId: '',\n        customerId: '',\n        customerName: '',\n        phone: '',\n        tableId: '',\n        orderTime: '',\n        totalAmount: '',\n        finalAmount: '',\n        discount: '',\n        status: '',\n        dishes: ''\n      };\n    }\n    const __returned__ = {\n      emit,\n      form,\n      orderStore,\n      getOrderById,\n      deleteOrder,\n      closeOrder,\n      ref,\n      get useOrderStore() {\n        return useOrderStore;\n      },\n      get ElMessage() {\n        return ElMessage;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useOrderStore","ElMessage","emit","__emit","form","orderId","customerId","customerName","phone","tableId","orderTime","totalAmount","finalAmount","discount","status","dishes","orderStore","getOrderById","value","error","response","deleteOrder","closeOrder"],"sources":["D:/数据库课程设计（饭店系统）/restaurant-ordering-system/src/components/order/DetailedCard.vue"],"sourcesContent":["<template>\r\n    <div class=\"detailed-card\">\r\n        <el-form :model=\"form\" label-width=\"120px\">\r\n            <el-form-item label=\"订单ID\">\r\n                <el-input v-model=\"form.orderId\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"顾客ID\">\r\n                <el-input v-model=\"form.customerId\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"顾客电话\">\r\n                <el-input v-model=\"form.phone\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"顾客名称\">\r\n                <el-input v-model=\"form.customerName\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"餐桌Id\">\r\n                <el-input v-model=\"form.tableId\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"订单时间\">\r\n                <el-input v-model=\"form.orderTime\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"订单金额\">\r\n                <el-input v-model=\"form.totalAmount\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"结账金额\">\r\n                <el-input v-model=\"form.finalAmount\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"折扣\">\r\n                <el-input v-model=\"form.discount\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"订单状态\">\r\n                <el-input v-model=\"form.status\" />\r\n            </el-form-item>\r\n            <el-form-item label=\"菜品\">\r\n                <el-input v-model=\"form.dishes\" />\r\n            </el-form-item>\r\n        </el-form>\r\n        <el-button type=\"primary\" @click=\"getOrderById\">获取订单</el-button>\r\n        <el-button type=\"primary\" @click=\"deleteOrder\">删除订单</el-button>\r\n        <el-button type=\"primary\" @click=\"closeOrder\">关闭订单</el-button>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineEmits, ref } from 'vue'\r\nimport { useOrderStore } from '@/stores/order'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst emit = defineEmits(['closeOrder'])\r\n\r\nconst form = ref({\r\n  orderId: '',\r\n  customerId: '',\r\n  customerName: '',\r\n  phone: '',\r\n  tableId: '',\r\n  orderTime: '',\r\n  totalAmount: '',\r\n  finalAmount: '',\r\n  discount: '',\r\n  status: '',\r\n  dishes: ''\r\n})\r\n\r\nconst orderStore = useOrderStore()\r\n\r\nasync function getOrderById() {\r\n  if (!form.value.orderId) {\r\n    ElMessage.error('订单信息不存在或订单ID为空')\r\n    return\r\n  }\r\n  const response = await orderStore.getOrderById(form.orderId)\r\n  form.value = response\r\n}\r\n\r\nasync function deleteOrder() {\r\n  await orderStore.deleteOrder(form.orderId)\r\n}\r\n\r\nfunction closeOrder() {\r\n  emit('closeOrder')\r\n  form.value = {\r\n    orderId: '',\r\n    customerId: '',\r\n    customerName: '',\r\n    phone: '',\r\n    tableId: '',\r\n    orderTime: '',\r\n    totalAmount: '',\r\n    finalAmount: '',\r\n    discount: '',\r\n    status: '',\r\n    dishes: ''\r\n  }\r\n}\r\n</script>"],"mappings":"AA4CA,SAAsBA,GAAG,QAAQ,KAAK;AACtC,SAASC,aAAa,QAAQ,gBAAgB;AAC9C,SAASC,SAAS,QAAQ,cAAc;;;;;;;;;IAExC,MAAMC,IAAI,GAAGC,MAA2B;IAExC,MAAMC,IAAI,GAAGL,GAAG,CAAC;MACfM,OAAO,EAAE,EAAE;MACXC,UAAU,EAAE,EAAE;MACdC,YAAY,EAAE,EAAE;MAChBC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,EAAE;MACXC,SAAS,EAAE,EAAE;MACbC,WAAW,EAAE,EAAE;MACfC,WAAW,EAAE,EAAE;MACfC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE;IACV,CAAC,CAAC;IAEF,MAAMC,UAAU,GAAGhB,aAAa,CAAC,CAAC;IAElC,eAAeiB,YAAYA,CAAA,EAAG;MAC5B,IAAI,CAACb,IAAI,CAACc,KAAK,CAACb,OAAO,EAAE;QACvBJ,SAAS,CAACkB,KAAK,CAAC,gBAAgB,CAAC;QACjC;MACF;MACA,MAAMC,QAAQ,GAAG,MAAMJ,UAAU,CAACC,YAAY,CAACb,IAAI,CAACC,OAAO,CAAC;MAC5DD,IAAI,CAACc,KAAK,GAAGE,QAAQ;IACvB;IAEA,eAAeC,WAAWA,CAAA,EAAG;MAC3B,MAAML,UAAU,CAACK,WAAW,CAACjB,IAAI,CAACC,OAAO,CAAC;IAC5C;IAEA,SAASiB,UAAUA,CAAA,EAAG;MACpBpB,IAAI,CAAC,YAAY,CAAC;MAClBE,IAAI,CAACc,KAAK,GAAG;QACXb,OAAO,EAAE,EAAE;QACXC,UAAU,EAAE,EAAE;QACdC,YAAY,EAAE,EAAE;QAChBC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE,EAAE;QACXC,SAAS,EAAE,EAAE;QACbC,WAAW,EAAE,EAAE;QACfC,WAAW,EAAE,EAAE;QACfC,QAAQ,EAAE,EAAE;QACZC,MAAM,EAAE,EAAE;QACVC,MAAM,EAAE;MACV,CAAC;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}