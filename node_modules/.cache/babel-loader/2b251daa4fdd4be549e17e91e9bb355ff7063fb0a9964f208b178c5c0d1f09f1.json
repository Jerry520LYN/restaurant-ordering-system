{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useAuthStore } from '@/stores/auth';\nimport { useRouter } from 'vue-router';\nexport default {\n  __name: 'LoginForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const authStore = useAuthStore();\n    const router = useRouter();\n    const form = ref({\n      username: '',\n      password: ''\n    });\n    const error = ref(null);\n    const handleSubmit = async () => {\n      error.value = null;\n      try {\n        await authStore.login(form.value);\n        alert('成功');\n        router.push('/dashboard');\n      } catch (err) {\n        error.value = err;\n      }\n    };\n    const goRegister = () => {\n      router.push('/register');\n    };\n    const __returned__ = {\n      authStore,\n      router,\n      form,\n      error,\n      handleSubmit,\n      goRegister,\n      ref,\n      get useAuthStore() {\n        return useAuthStore;\n      },\n      get useRouter() {\n        return useRouter;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useAuthStore","useRouter","authStore","router","form","username","password","error","handleSubmit","value","login","alert","push","err","goRegister"],"sources":["D:/数据库课程设计（饭店系统）/restaurant-ordering-system/src/components/auth/LoginForm.vue"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"handleSubmit\">\r\n    <div class=\"form-group\">\r\n      <label for=\"username\">用户名</label>\r\n      <input\r\n        id=\"username\"\r\n        v-model=\"form.username\"\r\n        type=\"text\"\r\n        required\r\n        placeholder=\"请输入用户名\"\r\n      />\r\n    </div>\r\n\r\n    <div class=\"form-group\">\r\n      <label for=\"password\">密码</label>\r\n      <input\r\n        id=\"password\"\r\n        v-model=\"form.password\"\r\n        type=\"password\"\r\n        required\r\n        placeholder=\"请输入密码\"\r\n      />\r\n    </div>\r\n\r\n    <div v-if=\"error\" class=\"error-message\">\r\n      {{ error }}\r\n    </div>\r\n\r\n  <div class=\"button-container\">\r\n    <button type=\"submit\" :disabled=\"isLoading\">\r\n      {{ isLoading ? '登录中...' : '登录' }}\r\n    </button>\r\n\r\n    <button type=\"button\" @click=\"goRegister\">\r\n      {{ isLoading ? '注册中...' : '注册' }}\r\n    </button>\r\n  </div>\r\n    \r\n  </form>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useAuthStore } from '@/stores/auth'\r\nimport { useRouter } from 'vue-router'\r\n\r\nconst authStore = useAuthStore()\r\nconst router = useRouter()\r\n\r\nconst form = ref({\r\n  username: '',\r\n  password: ''\r\n})\r\n\r\nconst error = ref(null)\r\n\r\nconst handleSubmit = async () => {\r\n  error.value = null\r\n  try{\r\n    await authStore.login(form.value);\r\n    alert('成功');\r\n    router.push('/dashboard');\r\n  }catch(err){\r\n    error.value = err;\r\n  }\r\n}\r\n\r\nconst goRegister = () => {\r\n  router.push('/register')\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.form-group {\r\n  margin-bottom: 1rem;\r\n  margin-left: 1rem;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\ninput {\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n}\r\n\r\nbutton {\r\n  background-color: #42b983;\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n}\r\n\r\nbutton:disabled {\r\n  background-color: #cccccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.button-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 1rem;\r\n}\r\n\r\n.error-message {\r\n  color: red;\r\n  margin-bottom: 1rem;\r\n}\r\n</style>"],"mappings":";AA0CA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,YAAY,QAAQ,eAAe;AAC5C,SAASC,SAAS,QAAQ,YAAY;;;;;;;IAEtC,MAAMC,SAAS,GAAGF,YAAY,CAAC,CAAC;IAChC,MAAMG,MAAM,GAAGF,SAAS,CAAC,CAAC;IAE1B,MAAMG,IAAI,GAAGL,GAAG,CAAC;MACfM,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE;IACZ,CAAC,CAAC;IAEF,MAAMC,KAAK,GAAGR,GAAG,CAAC,IAAI,CAAC;IAEvB,MAAMS,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/BD,KAAK,CAACE,KAAK,GAAG,IAAI;MAClB,IAAG;QACD,MAAMP,SAAS,CAACQ,KAAK,CAACN,IAAI,CAACK,KAAK,CAAC;QACjCE,KAAK,CAAC,IAAI,CAAC;QACXR,MAAM,CAACS,IAAI,CAAC,YAAY,CAAC;MAC3B,CAAC,QAAMC,GAAG,EAAC;QACTN,KAAK,CAACE,KAAK,GAAGI,GAAG;MACnB;IACF,CAAC;IAED,MAAMC,UAAU,GAAGA,CAAA,KAAM;MACvBX,MAAM,CAACS,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}