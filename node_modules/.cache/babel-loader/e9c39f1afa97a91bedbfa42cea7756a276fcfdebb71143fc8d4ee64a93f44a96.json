{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-5\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_divider = _resolveComponent(\"el-divider\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_divider, null, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"当前队列\")])),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_el_table, {\n    data: $setup.queueList,\n    style: {\n      \"width\": \"100%\"\n    },\n    border: \"\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table_column, {\n      prop: \"callingNumberId\",\n      label: \"叫号ID\",\n      width: \"120\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"phone\",\n      label: \"手机号\",\n      width: \"180\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"peopleNumber\",\n      label: \"人数\",\n      width: \"100\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      prop: \"status\",\n      label: \"状态\",\n      width: \"120\",\n      align: \"center\"\n    }), _createVNode(_component_el_table_column, {\n      label: \"操作\",\n      width: \"120\",\n      align: \"center\"\n    }, {\n      default: _withCtx(scope => [_createVNode(_component_el_button, {\n        type: \"danger\",\n        size: \"small\",\n        onClick: $event => $setup.removeNumber(scope.row)\n      }, {\n        default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\"移除\")])),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_divider","default","_withCtx","_cache","_createTextVNode","_","_component_el_table","data","$setup","queueList","style","border","_component_el_table_column","prop","label","width","align","scope","_component_el_button","type","size","onClick","$event","removeNumber","row"],"sources":["D:\\数据库课程设计（饭店系统）\\restaurant-ordering-system\\src\\views\\CallingNumberView.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-5\">\r\n    <el-divider>当前队列</el-divider>\r\n    <el-table :data=\"queueList\" style=\"width: 100%\" border>\r\n      <el-table-column prop=\"callingNumberId\" label=\"叫号ID\" width=\"120\" align=\"center\" />\r\n      <el-table-column prop=\"phone\" label=\"手机号\" width=\"180\" align=\"center\" />\r\n      <el-table-column prop=\"peopleNumber\" label=\"人数\" width=\"100\" align=\"center\" />\r\n      <el-table-column prop=\"status\" label=\"状态\" width=\"120\" align=\"center\" />\r\n      <el-table-column label=\"操作\" width=\"120\" align=\"center\">\r\n        <template #default=\"scope\">\r\n          <el-button type=\"danger\" size=\"small\" @click=\"removeNumber(scope.row)\">移除</el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n<script setup>\r\nimport { ref, onMounted, computed } from 'vue'\r\nimport { useCallingNumberStore } from '@/stores/callingNumber'\r\n\r\nconst store = useCallingNumberStore()\r\nconst form = ref({ phone: '', peopleNumber: 1 })\r\n\r\nconst handleCallNumber = async () => {\r\n  if (!form.value.phone || !form.value.peopleNumber) return\r\n  await store.callNumber(form.value.phone, form.value.peopleNumber)\r\n  form.value = { phone: '', peopleNumber: 1 }\r\n}\r\nconst removeNumber = async (row) => {\r\n  await store.removeCallingNumber(row.callingNumberId)\r\n}\r\nconst queueList = computed(() => {\r\n  // 展示所有队列合并\r\n  if (!store.queues) return []\r\n  return Object.values(store.queues).flat()\r\n})\r\nonMounted(store.getQueues)\r\n</script> "],"mappings":";;EACOA,KAAK,EAAC;AAAK;;;;;;uBAAhBC,mBAAA,CAaM,OAbNC,UAaM,GAZJC,YAAA,CAA6BC,qBAAA;IAFjCC,OAAA,EAAAC,QAAA,CAEgB,MAAIC,MAAA,QAAAA,MAAA,OAFpBC,gBAAA,CAEgB,MAAI,E;IAFpBC,CAAA;MAGIN,YAAA,CAUWO,mBAAA;IAVAC,IAAI,EAAEC,MAAA,CAAAC,SAAS;IAAEC,KAAmB,EAAnB;MAAA;IAAA,CAAmB;IAACC,MAAM,EAAN;;IAHpDV,OAAA,EAAAC,QAAA,CAIM,MAAkF,CAAlFH,YAAA,CAAkFa,0BAAA;MAAjEC,IAAI,EAAC,iBAAiB;MAACC,KAAK,EAAC,MAAM;MAACC,KAAK,EAAC,KAAK;MAACC,KAAK,EAAC;QACvEjB,YAAA,CAAuEa,0BAAA;MAAtDC,IAAI,EAAC,OAAO;MAACC,KAAK,EAAC,KAAK;MAACC,KAAK,EAAC,KAAK;MAACC,KAAK,EAAC;QAC5DjB,YAAA,CAA6Ea,0BAAA;MAA5DC,IAAI,EAAC,cAAc;MAACC,KAAK,EAAC,IAAI;MAACC,KAAK,EAAC,KAAK;MAACC,KAAK,EAAC;QAClEjB,YAAA,CAAuEa,0BAAA;MAAtDC,IAAI,EAAC,QAAQ;MAACC,KAAK,EAAC,IAAI;MAACC,KAAK,EAAC,KAAK;MAACC,KAAK,EAAC;QAC5DjB,YAAA,CAIkBa,0BAAA;MAJDE,KAAK,EAAC,IAAI;MAACC,KAAK,EAAC,KAAK;MAACC,KAAK,EAAC;;MACjCf,OAAO,EAAAC,QAAA,CACqEe,KAD9D,KACvBlB,YAAA,CAAqFmB,oBAAA;QAA1EC,IAAI,EAAC,QAAQ;QAACC,IAAI,EAAC,OAAO;QAAEC,OAAK,EAAAC,MAAA,IAAEd,MAAA,CAAAe,YAAY,CAACN,KAAK,CAACO,GAAG;;QAV9EvB,OAAA,EAAAC,QAAA,CAUiF,MAAEC,MAAA,QAAAA,MAAA,OAVnFC,gBAAA,CAUiF,IAAE,E;QAVnFC,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}