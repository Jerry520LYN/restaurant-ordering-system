{"ast":null,"code":"// src/api/auth.js\nimport instance from '@/utils/request'; // 使用统一配置的 axios 实例\n\nexport const login = async credentials => {\n  try {\n    const params = new URLSearchParams();\n    for (let key in credentials) {\n      params.append(key, credentials[key]);\n    }\n    const response = await instance.post('/users/login', null, {\n      params: credentials // 自动处理参数编码\n    });\n    return response;\n  } catch (error) {\n    throw error.response?.data?.message || '登录失败，请稍后再试';\n  }\n};\nexport const register = async data => {\n  try {\n    const params = new URLSearchParams();\n    for (let key in data) {\n      params.append(key, data[key]);\n    }\n    const response = await instance.post('/users/register', null, {\n      params: data\n    });\n    return response;\n  } catch (error) {\n    throw error.response?.data?.message || '注册失败，请稍后再试';\n  }\n};","map":{"version":3,"names":["instance","login","credentials","params","URLSearchParams","key","append","response","post","error","data","message","register"],"sources":["D:/数据库课程设计（饭店系统）/restaurant-ordering-system/src/api/auth.js"],"sourcesContent":["// src/api/auth.js\r\nimport instance from '@/utils/request'; // 使用统一配置的 axios 实例\r\n\r\nexport const login = async (credentials) => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n    for (let key in credentials) {\r\n      params.append(key, credentials[key]);\r\n    }\r\n\r\n    const response = await instance.post('/users/login', null, {\r\n      params: credentials // 自动处理参数编码\r\n    });\r\n\r\n    return response;\r\n  } catch (error) {\r\n    throw error.response?.data?.message || '登录失败，请稍后再试';\r\n  }\r\n};\r\n\r\nexport const register = async (data) => {\r\n  try {\r\n    const params = new URLSearchParams();\r\n    for (let key in data) {\r\n      params.append(key, data[key]);\r\n    }\r\n    const response = await instance.post('/users/register', null, {\r\n      params: data\r\n    });\r\n    return response;\r\n  } catch (error) {\r\n    throw error.response?.data?.message || '注册失败，请稍后再试';\r\n  }\r\n};"],"mappings":"AAAA;AACA,OAAOA,QAAQ,MAAM,iBAAiB,CAAC,CAAC;;AAExC,OAAO,MAAMC,KAAK,GAAG,MAAOC,WAAW,IAAK;EAC1C,IAAI;IACF,MAAMC,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpC,KAAK,IAAIC,GAAG,IAAIH,WAAW,EAAE;MAC3BC,MAAM,CAACG,MAAM,CAACD,GAAG,EAAEH,WAAW,CAACG,GAAG,CAAC,CAAC;IACtC;IAEA,MAAME,QAAQ,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,cAAc,EAAE,IAAI,EAAE;MACzDL,MAAM,EAAED,WAAW,CAAC;IACtB,CAAC,CAAC;IAEF,OAAOK,QAAQ;EACjB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,MAAMA,KAAK,CAACF,QAAQ,EAAEG,IAAI,EAAEC,OAAO,IAAI,YAAY;EACrD;AACF,CAAC;AAED,OAAO,MAAMC,QAAQ,GAAG,MAAOF,IAAI,IAAK;EACtC,IAAI;IACF,MAAMP,MAAM,GAAG,IAAIC,eAAe,CAAC,CAAC;IACpC,KAAK,IAAIC,GAAG,IAAIK,IAAI,EAAE;MACpBP,MAAM,CAACG,MAAM,CAACD,GAAG,EAAEK,IAAI,CAACL,GAAG,CAAC,CAAC;IAC/B;IACA,MAAME,QAAQ,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,iBAAiB,EAAE,IAAI,EAAE;MAC5DL,MAAM,EAAEO;IACV,CAAC,CAAC;IACF,OAAOH,QAAQ;EACjB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,MAAMA,KAAK,CAACF,QAAQ,EAAEG,IAAI,EAAEC,OAAO,IAAI,YAAY;EACrD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}