{"ast":null,"code":"import { ref, onMounted, watch, onErrorCaptured } from 'vue';\nimport { useCallingNumberStore } from '@/stores/callingNumber';\n\n// 捕获 ResizeObserver 错误\n\nexport default {\n  __name: 'CallingnumberForm',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    onErrorCaptured((err, instance, info) => {\n      if (err.message.includes('ResizeObserver')) {\n        return false; // 阻止错误继续传播\n      }\n      return true;\n    });\n    const callingNumberStore = useCallingNumberStore();\n    const diningQueueData = ref([]);\n\n    // 合并队列数据的函数\n    const mergeDiningQueues = () => {\n      diningQueueData.value = [...(callingNumberStore.queues.diningQueue2 || []), ...(callingNumberStore.queues.diningQueue4 || []), ...(callingNumberStore.queues.diningQueue8 || [])];\n    };\n    onMounted(() => {\n      callingNumberStore.getQueues();\n      mergeDiningQueues();\n    });\n    watch(callingNumberStore.queues, () => {\n      mergeDiningQueues();\n    }, {\n      immediate: true\n    });\n    const __returned__ = {\n      callingNumberStore,\n      diningQueueData,\n      mergeDiningQueues,\n      ref,\n      onMounted,\n      watch,\n      onErrorCaptured,\n      get useCallingNumberStore() {\n        return useCallingNumberStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","watch","onErrorCaptured","useCallingNumberStore","err","instance","info","message","includes","callingNumberStore","diningQueueData","mergeDiningQueues","value","queues","diningQueue2","diningQueue4","diningQueue8","getQueues","immediate"],"sources":["D:/数据库课程设计（饭店系统）/restaurant-ordering-system/src/components/callingnumber/CallingnumberForm.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-divider>可用餐队列</el-divider>\r\n        <el-table :data=\"diningQueueData\" style=\"width: 100%\" border>\r\n            <el-table-column prop=\"callingNumberId\" label=\"Calling Number ID\"></el-table-column>\r\n            <el-table-column prop=\"waitingCount\" label=\"Waiting Count\"></el-table-column>\r\n            <el-table-column prop=\"diningCount\" label=\"Dining Count\"></el-table-column>\r\n            <el-table-column prop=\"status\" label=\"Status\"></el-table-column>\r\n            <el-table-column prop=\"phone\" label=\"Phone\"></el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n<script setup>\r\nimport { ref, onMounted, watch, onErrorCaptured } from 'vue';\r\nimport { useCallingNumberStore } from '@/stores/callingNumber';\r\n\r\n// 捕获 ResizeObserver 错误\r\nonErrorCaptured((err, instance, info) => {\r\n  if (err.message.includes('ResizeObserver')) {\r\n    return false; // 阻止错误继续传播\r\n  }\r\n  return true;\r\n});\r\n\r\nconst callingNumberStore = useCallingNumberStore(); \r\n\r\nconst diningQueueData = ref([]);\r\n\r\n// 合并队列数据的函数\r\nconst mergeDiningQueues = () => {\r\n    diningQueueData.value = [\r\n        ...(callingNumberStore.queues.diningQueue2 || []),\r\n        ...(callingNumberStore.queues.diningQueue4 || []),\r\n        ...(callingNumberStore.queues.diningQueue8 || [])\r\n    ];\r\n};\r\n\r\nonMounted(() => {\r\n    callingNumberStore.getQueues();\r\n    mergeDiningQueues();\r\n})\r\n\r\nwatch(callingNumberStore.queues, () => {\r\n    mergeDiningQueues();\r\n}, { immediate: true });\r\n\r\n\r\n</script>"],"mappings":"AAaA,SAASA,GAAG,EAAEC,SAAS,EAAEC,KAAK,EAAEC,eAAe,QAAQ,KAAK;AAC5D,SAASC,qBAAqB,QAAQ,wBAAwB;;AAE9D;;;;;;;;IACAD,eAAe,CAAC,CAACE,GAAG,EAAEC,QAAQ,EAAEC,IAAI,KAAK;MACvC,IAAIF,GAAG,CAACG,OAAO,CAACC,QAAQ,CAAC,gBAAgB,CAAC,EAAE;QAC1C,OAAO,KAAK,CAAC,CAAC;MAChB;MACA,OAAO,IAAI;IACb,CAAC,CAAC;IAEF,MAAMC,kBAAkB,GAAGN,qBAAqB,CAAC,CAAC;IAElD,MAAMO,eAAe,GAAGX,GAAG,CAAC,EAAE,CAAC;;IAE/B;IACA,MAAMY,iBAAiB,GAAGA,CAAA,KAAM;MAC5BD,eAAe,CAACE,KAAK,GAAG,CACpB,IAAIH,kBAAkB,CAACI,MAAM,CAACC,YAAY,IAAI,EAAE,CAAC,EACjD,IAAIL,kBAAkB,CAACI,MAAM,CAACE,YAAY,IAAI,EAAE,CAAC,EACjD,IAAIN,kBAAkB,CAACI,MAAM,CAACG,YAAY,IAAI,EAAE,CAAC,CACpD;IACL,CAAC;IAEDhB,SAAS,CAAC,MAAM;MACZS,kBAAkB,CAACQ,SAAS,CAAC,CAAC;MAC9BN,iBAAiB,CAAC,CAAC;IACvB,CAAC,CAAC;IAEFV,KAAK,CAACQ,kBAAkB,CAACI,MAAM,EAAE,MAAM;MACnCF,iBAAiB,CAAC,CAAC;IACvB,CAAC,EAAE;MAAEO,SAAS,EAAE;IAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}